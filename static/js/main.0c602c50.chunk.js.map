{"version":3,"sources":["components/active-toggle.js","components/search.js","components/violation.js","components/grid.js","routes/Main.js","routes/Disclaimer.js","routes/Contact.js","App.js","index.js"],"names":["Toggle","onCheck","htmlFor","style","cursor","id","type","value","onChange","e","target","checked","Search","setViolations","useState","query","setQuery","active","setActive","options","shouldSort","threshold","location","distance","minMatchCharLength","keys","useEffect","performSearch","violations","then","onActiveToggle","Promise","resolve","Fuse","search","map","x","item","today","moment","filter","isAfter","marginBottom","padding","borderLeft","backgroundColor","fontSize","onKeyPress","key","preventDefault","event","Violation","athlete","overflowWrap","className","Grid","loading","length","tableLayout","slice","a","i","Main","csv","csvtojson","result","setResult","setIsLoading","randomString","Math","random","toString","substring","url","fetch","resp","text","bannedAthletes","fromString","json","push","splice","get","overflowX","Disclaimer","Contact","App","lastUpdated","setLastUpdated","r","commits","commit","author","date","Date","toGMTString","marginTop","display","justifyContent","to","textAlign","src","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0c602c50.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Toggle = ({ onCheck }) => {\n  return (\n    <label htmlFor=\"active\" style={{ cursor: \"pointer\" }}>\n      <input id=\"active\" type=\"checkbox\" value=\"Active Suspensions\" onChange={e => onCheck(e.target.checked)}/>\n      &nbsp;Active suspensions only\n    </label>\n  );\n};\n\nexport default Toggle;","import React, { useEffect, useState } from \"react\";\nimport Fuse from \"fuse.js\";\nimport moment from \"moment\";\nimport Toggle from \"./active-toggle\";\nimport { violations } from \"../routes/Main\";\n\nconst Search = ({ setViolations }) => {\n  let [query, setQuery] = useState(\"\");\n  let [active, setActive] = useState(false);\n\n  let options = {\n    shouldSort: true,\n    threshold: 0.1,\n    location: 0,\n    distance: 100,\n    minMatchCharLength: 1,\n    keys: [\"Name\"],\n  };\n\n  useEffect(() => {\n    performSearch(violations, query)\n      .then((violations) => onActiveToggle(violations, active))\n      .then((violations) => setViolations(violations));\n  }, [query, active]);\n\n  const performSearch = (violations, query) => {\n    return new Promise((resolve) => {\n      if (query === \"\") {\n        return resolve(violations);\n      }\n\n      let fuse = new Fuse(violations, options); // \"list\" is the item array\n      let result = fuse.search(query);\n      resolve(result.map((x) => x.item));\n    });\n  };\n\n  const onActiveToggle = (violations, active) => {\n    return new Promise((resolve) => {\n      if (active) {\n        const today = moment();\n        const activeSuspensions = violations.filter((x) => {\n          const until = moment(x[\"Ineligibility until\"], \"DD/MM/YYYY\");\n          return until.isAfter(today);\n        });\n        return resolve(activeSuspensions);\n      }\n      resolve(violations);\n    });\n  };\n\n  return (\n    <form>\n      <fieldset>\n        <p style={{ marginBottom: \"2px\" }}>\n          <small>\n            This website is designed to enable race directors and sponsors a\n            quick and easy solution to protect their brand. By providing the\n            only free and most comprehensive list of current and former banned\n            competitors, we can help you to help keep athletics clean.\n          </small>\n        </p>\n        <h1 style={{ marginBottom: \"2px\" }}>Search for violations</h1>\n        <div\n          style={{\n            padding: \"10px\",\n            marginBottom: \"2rem\",\n            borderLeft: \".3rem solid #49d79f\",\n            backgroundColor: \"#f4f5f6\",\n          }}\n        >\n          <span>\n            Type the first or last name of the athlete you want to check\n          </span>\n        </div>\n        <input\n          style={{ fontSize: \"1.5rem\" }}\n          type=\"text\"\n          id=\"search\"\n          onKeyPress={(e) => {\n            e.key === \"Enter\" && e.preventDefault();\n          }}\n          onChange={(event) => setQuery(event.target.value)}\n        />\n        <Toggle onCheck={(e) => setActive(!active)} />\n      </fieldset>\n    </form>\n  );\n};\n\nexport default Search;\n","import React from \"react\";\n\nconst Violation = ({ athlete }) => {\n  return (\n    <>\n      <td style={{ overflowWrap: \"break-word\" }}>{athlete[\"Name\"]}</td>\n      <td className=\"rm-small\" style={{ overflowWrap: \"break-word\" }}>{athlete[\"Date of Birth\"]}</td>\n      <td style={{ overflowWrap: \"break-word\" }}>{athlete[\"Nationality\"]}</td>\n      <td style={{ overflowWrap: \"break-word\" }}>{athlete[\"Sanction\"]}</td>\n      <td style={{ overflowWrap: \"break-word\" }}>{athlete[\"Ineligibility until\"]}</td>\n      <td className=\"rm-small\" style={{ overflowWrap: \"break-word\" }}>{athlete[\"Description\"]}</td>\n    </>\n  );\n};\n\nexport default Violation;","import React from \"react\";\n\n\nimport Violation from \"./violation\";\n\n\nconst Grid = ({ violations, loading }) => {\n\n  if (loading) {\n    return <span>Loading ...</span>;\n  }\n\n  return violations.length > 0\n    ? (<table style={{ tableLayout: \"fixed\" }}>\n      <thead>\n      <tr>\n        <th style={{ overflowWrap: \"break-word\" }}>Name</th>\n        <th className=\"rm-small\" style={{ overflowWrap: \"break-word\" }}>Date of Birth</th>\n        <th style={{ overflowWrap: \"break-word\" }}>Nationality</th>\n        <th style={{ overflowWrap: \"break-word\" }}>Sanction</th>\n        <th style={{ overflowWrap: \"break-word\" }}>Ineligibility until</th>\n        <th className=\"rm-small\" style={{ overflowWrap: \"break-word\" }}>Description</th>\n      </tr>\n      </thead>\n      <tbody>\n      {violations.slice(0, 100).map((a, i) =>\n        <tr key={i}>\n          <Violation athlete={a}/>\n        </tr>\n      )}\n      </tbody>\n    </table>)\n    : <span> No results </span>;\n};\n\nexport default Grid;\n\n","import Search from \"../components/search\";\nimport Grid from \"../components/grid\";\nimport React, { useEffect, useState } from \"react\";\nimport csvtojson from \"csvtojson\";\n\nexport let violations = [];\n\nconst Main = () => {\n\n  const csv = csvtojson();\n\n  let [result, setResult] = useState([]);\n  let [_, setIsLoading] = useState(false);\n\n\n  useEffect(() => {\n\n    const get = async () => {\n      //http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript\n      const randomString = Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);\n\n      try {\n        setIsLoading(true);\n        const url = `/banned-athletes.csv?${randomString}`;\n        const resp = await fetch(url);\n        const bannedAthletes = await resp.text();\n        const json = await csv.fromString(bannedAthletes);\n        if (!violations.length) {\n          violations.push(...json);\n        }\n        setResult(json);\n        setIsLoading(false);\n      } catch (e) {\n        violations.splice(0, violations.length);\n        setResult([]);\n      }\n    };\n\n    get();\n\n    return () => {\n      setIsLoading(false);\n      setResult([]);\n    };\n\n  }, []);\n\n  return (\n    <>\n      <div className=\"row\">\n        <div className=\"column\">\n\n          <Search setViolations={setResult} />\n\n        </div>\n      </div>\n\n      <div className=\"row\">\n        <div style={{ overflowX: \"auto\" }}>\n          <div className=\"column\">\n            <Grid violations={result} />\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Main;","import React from \"react\";\n\nconst Disclaimer = () => {\n\n  return <div style={{ padding: \"0.5rem\" }}>\n    KeepAthleticsClean.com (the website) is an information repository designed to consolidate details of formal\n    sanctions brought against World Athletics (WA) competitors based on open-source reporting found online. The website\n    strives for accuracy and cross-references all reported suspensions or bans with official statements found online,\n    including but not limited to WA, Athletics Integrity Unit, and historic IAAF reports. While every effort is made for\n    accuracy, the website does not accept liability for the fidelity of this third-party information.\n\n    If you are an athlete or the (confirmable) designated agent or representative acting on behalf of an athlete listed\n    on the website and you wish to request an amendment or deletion published in relation to the same athlete on the\n    website, please contact: admin@KeepAthleticsClean.com â€“ please note that we will only amend or remove data which is\n    proven to be incorrect.\n\n    The website does not accept liability for any damage (fiscal and non-fiscal) caused directly or indirectly by\n    reference to or use of the information published on the website. The information consolidated by the website is\n    intended for educational and transparency purposes, based on open-source reporting, and is not an official record of\n    bans endorsed by any Federation or WA or AIU.\n\n    The actions or failures of any third parties relying on the information from the website is also disclaimed from\n    liability of the website administrator.\n\n    Any action taken in relation to onward sharing, copying, or publishing of data on the website is at the\n    third-party's risk without liability on the website and the same disclaimer should be shared by the third-party in\n    so doing.\n\n    No original content is owned by the website but the consolidated list and script is owned by the website and should\n    be acknowledged by reference to the website address and title if cited elsewhere.</div>;\n\n};\n\nexport default Disclaimer;\n\n","import React from \"react\";\n\nconst Contact = () => {\n  return \"admin@keepathleticsclean.com\";\n};\n\nexport default Contact;","import React, { useEffect, useState } from \"react\";\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\n\nimport Main from \"./routes/Main\";\nimport Disclaimer from \"./routes/Disclaimer\";\nimport Contact from \"./routes/Contact\";\n\nfunction App() {\n  const [lastUpdated, setLastUpdated] = useState(\"\");\n\n  useEffect(() => {\n    const getLastUpdated = () => {\n      fetch(\n        \"https://api.github.com/repos/mullet1989/doping-suspensions/commits?per_page=10&sha=gh-pages\"\n      )\n        .then((r) => r.json())\n        .then((commits) => {\n          const lastUpdated = commits[0].commit.author.date;\n          setLastUpdated(new Date(lastUpdated).toGMTString());\n        });\n    };\n\n    getLastUpdated();\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <Router>\n        <div className=\"container\" style={{ marginTop: \"20px\" }}>\n          <div className=\"row\">\n            <div\n              className=\"column\"\n              style={{ display: \"flex\", justifyContent: \"flex-end\" }}\n            >\n              <Link to=\"/\" style={{ padding: \"0.5em\" }}>\n                Home\n              </Link>\n              <Link to=\"/disclaimer\" style={{ padding: \"0.5em\" }}>\n                Legal\n              </Link>\n              <Link to=\"/contact\" style={{ padding: \"0.5em\" }}>\n                Contact\n              </Link>\n            </div>\n          </div>\n\n          <div className=\"row\" style={{ textAlign: \"right\" }}>\n            <div className=\"column\">Last Updated : {lastUpdated}</div>\n          </div>\n\n          <div className=\"row\">\n            <div className=\"column\">\n              <img src=\"/logo-large.png\" />\n            </div>\n          </div>\n\n          <Switch>\n            <Route path=\"/contact\">\n              <Contact />\n            </Route>\n            <Route path=\"/disclaimer\">\n              <Disclaimer />\n            </Route>\n            <Route path=\"/\">\n              <Main />\n            </Route>\n          </Switch>\n        </div>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App/>\n  </React.StrictMode>,\n  document.getElementById(\"root\"),\n);\n\n"],"sourceRoot":""}